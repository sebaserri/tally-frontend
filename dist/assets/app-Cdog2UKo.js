import{u as c,a as o,b as x,c as h,j as e,B as t}from"./index-BnfdKZVy.js";import{P as j,C as r}from"./PageTitle-Dkg9so6R.js";function f(){const n=c(),{data:s,isLoading:d,error:i}=o(),l=x(),a=h();return d?e.jsx("div",{className:"text-center",children:"Cargando…"}):!s||(i==null?void 0:i.status)===401?(n({to:"/login",search:{next:"/app"},replace:!0}),null):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{children:"Panel"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t,{variant:"ghost",onClick:()=>a.mutate(),disabled:a.isPending,title:"Llama a /auth/refresh (requiere CSRF + cookies)",children:a.isPending?"Refrescando…":"Refrescar sesión"}),e.jsx(t,{onClick:()=>l.mutate(void 0,{onSuccess:()=>n({to:"/login"})}),disabled:l.isPending,children:l.isPending?"Saliendo…":"Salir"})]})]}),e.jsxs(r,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Tu sesión"}),e.jsxs("dl",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-neutral-500",children:"ID"}),e.jsx("dd",{className:"font-mono",children:s.id})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-neutral-500",children:"Email"}),e.jsx("dd",{children:s.email})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-neutral-500",children:"Rol"}),e.jsx("dd",{children:s.role})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-neutral-500",children:"Vendor"}),e.jsx("dd",{children:s.vendorId||"—"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-neutral-500",children:"Nombre"}),e.jsx("dd",{children:s.name||"—"})]})]})]}),e.jsxs(r,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Endpoints cubiertos"}),e.jsxs("ul",{className:"mt-3 list-disc pl-5 text-sm space-y-1",children:[e.jsxs("li",{children:[e.jsx("code",{children:"/auth/register"})," — desde ",e.jsx("strong",{children:"Registro"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"/auth/login"})," — desde ",e.jsx("strong",{children:"Login"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"/auth/me"})," — usado en carga de sesión"]}),e.jsxs("li",{children:[e.jsx("code",{children:"/auth/refresh"})," — botón Refrescar sesión"]}),e.jsxs("li",{children:[e.jsx("code",{children:"/auth/logout"})," — botón Salir"]}),e.jsxs("li",{children:[e.jsx("code",{children:"/auth/verify-email"})," — pantalla Verificar email"]}),e.jsxs("li",{children:[e.jsx("code",{children:"/auth/resend-verification"})," — pantalla Reenviar verificación"]}),e.jsxs("li",{children:[e.jsx("code",{children:"/auth/forgot-password"})," — pantalla Recuperar"]}),e.jsxs("li",{children:[e.jsx("code",{children:"/auth/reset-password"})," — pantalla Reset con token"]})]})]})]})}export{f as default};
