import{r as i,d as g,j as e,T as p,L as f,B as h}from"./index-BnfdKZVy.js";import{P as j,C as v}from"./PageTitle-Dkg9so6R.js";import{E as n}from"./ErrorBanner-94absO_y.js";const E=e.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:[e.jsx("path",{d:"M4 6h16v12H4z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinejoin:"round"}),e.jsx("path",{d:"M22 6l-10 7L2 6",stroke:"currentColor",strokeWidth:"2",fill:"none"})]});function y(){const[s,c]=i.useState(""),[l,o]=i.useState(!1),{mutateAsync:m,isPending:u,error:r,isSuccess:d}=g(),t=i.useMemo(()=>l?s?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?"":"Formato de email inválido":"El email es obligatorio":"",[s,l]),x=async a=>{a.preventDefault(),o(!0),!t&&await m(s)};return e.jsxs("div",{className:"mx-auto grid w-full max-w-md grid-cols-1 gap-6 px-2 sm:max-w-lg",children:[e.jsx(j,{subtitle:"Te enviaremos un enlace para restablecerla si el correo existe.",children:"Recuperar contraseña"}),e.jsx(v,{padding:"lg",className:"space-y-4",children:e.jsxs("form",{className:"space-y-5",onSubmit:x,noValidate:!0,children:[e.jsx(p,{label:"Email",type:"email",autoComplete:"email",required:!0,value:s,onBlur:()=>o(!0),onChange:a=>c(a.currentTarget.value),leftIcon:E,help:"Usá el email con el que te registraste.",error:t}),e.jsx(n,{msg:r==null?void 0:r.message}),d&&e.jsx(n,{variant:"success",title:"Enviado",msg:"Si el email existe, te enviamos un link para restablecer."}),e.jsxs("div",{className:"flex flex-col-reverse gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(f,{to:"/login",className:"link text-sm",children:"Volver a ingresar"}),e.jsx(h,{type:"submit",loading:u,loadingText:"Enviando…",disabled:!!t,children:"Enviar enlace"})]})]})})]})}export{y as default};
