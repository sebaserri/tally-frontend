import{r,h as f,j as e,T as g,L as v,B as h}from"./index-BnfdKZVy.js";import{P as j,C as p}from"./PageTitle-Dkg9so6R.js";import{E as l}from"./ErrorBanner-94absO_y.js";const E=e.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:[e.jsx("path",{d:"M22 6l-10 7L2 6",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]});function T(){const[s,c]=r.useState(""),[n,o]=r.useState(!1),{mutateAsync:u,isPending:m,error:i,isSuccess:d}=f(),t=r.useMemo(()=>n?s?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?"":"Formato inválido":"El email es obligatorio":"",[s,n]),x=async a=>{a.preventDefault(),o(!0),!t&&await u(s)};return e.jsxs("div",{className:"mx-auto grid w-full max-w-md grid-cols-1 gap-6 px-2 sm:max-w-lg",children:[e.jsx(j,{subtitle:"Te enviaremos un nuevo enlace si tu email no fue verificado.",children:"Reenviar verificación"}),e.jsx(p,{padding:"lg",children:e.jsxs("form",{className:"space-y-5",onSubmit:x,noValidate:!0,children:[e.jsx(g,{label:"Email",type:"email",required:!0,value:s,onBlur:()=>o(!0),onChange:a=>c(a.currentTarget.value),leftIcon:E,error:t}),e.jsx(l,{msg:i==null?void 0:i.message}),d&&e.jsx(l,{variant:"success",title:"Enviado",msg:"Si el email existe y aún no fue verificado, te enviamos un nuevo enlace."}),e.jsxs("div",{className:"flex flex-col-reverse gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(v,{to:"/login",className:"link text-sm",children:"Volver a ingresar"}),e.jsx(h,{type:"submit",loading:m,loadingText:"Enviando…",disabled:!!t,children:"Reenviar"})]})]})})]})}export{T as default};
